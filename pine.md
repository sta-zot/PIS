
ВЫБОР КОМПОНЕНТОВ ТЕХНОЛОГИЧЕСКОГО СТЕКА ДЛЯ АНАЛИТИЧЕСКОЙ СИСТЕМЫ

Введение
В последние годы наблюдается устойчивый тренд, при котором всё большее количество коммерческих компаний-поставщиков программного обеспечения (ПО) по различным причинам ограничивает или прекращает продажу своих продуктов на территориях отдельных государств. Эта тенденция связана с рядом факторов, таких как геополитическая нестабильность, изменение законодательства, а также вопросы, связанные с соблюдением международных санкций или требованиями локализации данных. Несмотря на эти вызовы, потребность в программных продуктах, особенно в сфере анализа данных, остаётся высоко востребованной и неуклонно растёт.
Одним из наиболее значимых направлений использования ПО является анализ данных, который позволяет организациям эффективно обрабатывать, интерпретировать и принимать обоснованные решения на основе накопленных данных. В условиях современной экономики, где скорость принятия решений и способность реагировать на изменения внешней среды играют решающую роль, наличие инструментов для анализа и управления данными становится не просто желаемым, а необходимым условием для успешного функционирования предприятия. Платформы для анализа данных помогают компаниям выявлять скрытые зависимости, прогнозировать тренды и оптимизировать бизнес-процессы.
На сегодняшний день ни одна организация, независимо от её размера или отраслевой принадлежности, не может обойтись без системы поддержки принятия решений (СППР), которая включает в себя средства для анализа данных, визуализации показателей и разработки прогностических моделей. СППР помогает компаниям не только следить за текущими показателями деятельности, но и оптимизировать стратегические направления развития, снижать риски и принимать более обоснованные решения. Таким образом, потребность в эффективных инструментах для анализа и визуализации данных остаётся актуальной и будет продолжать расти, несмотря на сложности с доступом к коммерческим продуктам.
Преимущества и ограничения использования свободного программного обеспечения для организации полного цикла обработки данных
Коммерческие приложения предоставляют организациям комплексные платформы, которые включают все необходимые компоненты для построения полнофункциональной аналитической системы. Коммерческие решения интегрируют инструменты для обработки и хранения данных, а также предоставляют удобные интерфейсы для их анализа, что минимизирует усилия на этапе разработки и упрощает эксплуатацию системы. В результате компании, использующие коммерческое ПО, получают готовую инфраструктуру с минимальными требованиями к дополнительной настройке, однако этот подход несёт с собой зависимость от поставщиков ПО и ограничения по лицензированию.
Для того чтобы избежать проблем, связанных с ограничениями в использовании коммерческого программного обеспечения (ПО), необходимо рассмотреть возможность применения свободного и открытого ПО (СПО). Одним из ключевых преимуществ данного подхода является доступность исходного кода и возможность его копирования и хранения, что обеспечивает независимость от внешних поставщиков и снижает риски, связанные с прекращением поддержки или ограничением доступа к ПО. Свободное ПО предлагает организациям гибкость в разработке собственных решений и позволяет адаптировать исходные коды под индивидуальные потребности, что обеспечивает высокую степень контроля над всей системой.
Однако внедрение свободного ПО для создания полноценной аналитической системы сопряжено с рядом сложностей, в первую очередь, связанных с необходимостью формировать технологический стек из отдельных компонентов, каждый из которых предназначен для выполнения специфических задач в процессе обработки данных. Например, для успешной реализации ETL (extract, transform, load) процессов, хранения данных, их анализа и визуализации требуется выбрать и интегрировать отдельные решения для каждого из этих этапов. Такой подход требует значительных затрат человеческих и временных ресурсов, поскольку разработчикам необходимо изучать совместимость инструментов, настраивать их взаимодействие и обеспечивать стабильную работу всей системы.
Требования 
В ходе исследования предметной области были сформулированы и уточнены ключевые требования к проектируемой аналитической системе. Данные требования направлены на обеспечение гибкости и адаптивности системы для решения аналитических задач, связанных с динамическим анализом данных, построением настраиваемых дашбордов и возможностью масштабирования хранилища данных. 
1. Возможность многомерного AD-Hoc анализа данных для обеспечиния аналитикам создавать индивидуальные запросы с целью выявления любых зависимостей между показателями и проведения углубленного анализа на различных уровнях детализации. 
2. Настраиваемые панели управления с показателями  для эффективного представления аналитической информации без вмешательства ИТ-специалистов, пользователями на уровне организации и проектной группы.
2. Обеспечение выбора из широкого спектра визуальных элементов (графиков, таблиц, KPI-индикаторов и прочих визуализаций), чтобы аналитики могли адаптировать представление информации для максимальной наглядности.
3. Поддержка возможности обновления данных в реальном времени или с минимальной задержкой, для отражения актуальных значений показателей по мере их изменения.
4. Возможность добавлять новые показатели и измерения для оценки новых аспектов предметной области без перестройки хранилища данных.
5. Поддерживать масштабирование хранилища с учётом роста объёмов данных и количества источников, обеспечивая стабильную производительность системы в условиях увеличения числа измерений и показателей.
Инструменты для создания аналитических систем: ПО с открытым исходным кодом 
В процессе создания современной аналитической  системы, функционирующей на базе программного обеспечения с открытым исходным кодом, ключевую роль играет интеграция существующих решений.  
Исходя из вышеперечиленных  требований была определена  схема архитектуры как показано на рисунке 1 состоящая из компонентов реализующих конвейеры ETL, хранилище данных, движок для обработки OLAP-запросов, интерфейс для интерактивного анализа данных и интерфейс для построения панелей управления для отображения графиков и показтелей на основе регулярных очётов 
  
В рамках данного исследования был проведён анализ ключевых компонентов аналитической системы, которые при интеграции обеспечат реализацию минимально достаточного функционала для покрытия требований, предъявляемых к системам поддержки принятия решений. В результате проведённых работ был выбран стек технологий, удовлетворяющей требованиям гибкости и адаптивности при анализе данных, включающий программное обеспечение Apache Airflow, ClickHouse, Mondrian, SeekTable и Metabase. 
Apache Airflow — инструмент для создания и управления ETL-процессами (Extract, Transform, Load), который отвечает за автоматизацию потоков данных. В контексте данной системы Airflow используется для регулярной загрузки данных из различных источников, их трансформации и интеграции в хранилище данных. Это позволит организовать гибкие и масштабируемые процессы обработки данных, которые могут легко адаптироваться к изменениям в исходных данных. [1]
ClickHouse — высокопроизводительная аналитическая СУБД, оптимизированная для работы с большими объёмами данных и выполнения сложных аналитических запросов. ClickHouse служит основой для хранения агрегированных данных, на которых проводится анализ. Благодаря поддержке columnar storage и высокой скорости обработки запросов, ClickHouse позволяет эффективно обрабатывать запросы пользователей, обеспечивая быструю генерацию отчётов и поддерживая интерактивный анализ данных. 
Mondrian — движок для многомерного анализа данных, позволяющий строить виртуальные OLAP-кубы поверх данных, хранящихся в ClickHouse. Mondrian служит слоем абстракции между реляционной базой данных и интерфейсом для аналитиков, поддерживая выполнение многомерных запросов и операции OLAP. Это обеспечивает гибкость при работе с данными и возможность строить сложные многомерные аналитические модели на основе реляционных данных.
SeekTable — платформа для выполнения AD-Hoc анализа, которая предоставляет аналитикам возможность формировать запросы в произвольной форме, создавая таблицы и графики по мере необходимости. Это делает SeekTable удобным инструментом для гибкого анализа данных, не требующего предварительного построения преднастроенных отчётов или кубов. SeekTable интегрируется с Mondrian, предоставляя пользователям интуитивно понятный интерфейс для работы с данными. 
Metabase — инструмент для создания дашбордов и визуализации данных, который используется для представления ключевых показателей и результатов анализа. Metabase позволяет строить настраиваемые панели и отчёты, которые помогают пользователям отслеживать основные метрики и показатели эффективности. Возможность интеграции с ClickHouse и простота настройки дашбордов делают Metabase удобным выбором для визуализации данных в данной аналитической системе. 
Таким образом, данный стек инструментов охватывает все ключевые этапы аналитического процесса — от извлечения и обработки данных до их анализа и визуализации. 

Инфраструктура системы: использование Kubernetes и микросервисная архитектура
Предварительно предполагается, что разработка вышеописанной аналитической системы будет осуществлена на базе инфраструктуры Kubernetes, обеспечивающей оркестрацию, масштабируемость и управление микросервисной архитектурой. Каждый из компонентов системы (Apache Airflow, ClickHouse, Mondrian, SeekTable и Metabase) будет развернут как отдельный микросервис, что позволит добиться модульности и гибкости в управлении инфраструктурой.
Микросервисный подход к организации системы подразумевает, что каждый компонент будет атомарным, т.е. независимым в своём исполнении и функциональности. Компоненты системы будут связаны между собой исключительно через сетевые протоколы, что обеспечит стандартизованное взаимодействие и позволит легко масштабировать отдельные компоненты, адаптируя систему к росту нагрузки и изменениям в конфигурации. Сеть в инфраструктуре  Kubernetes в пределах одного узла представляет собой абстракцию в оперативной памяти, что исключает задержки и другие ограничения физических каналов связи.
Использование Kubernetes также предоставляет возможность автоматического масштабирования компонентов в зависимости от нагрузки. Наблюдение и  управление состоянием запущеных микросервисов и автоматическое восстанавление и перезапуск переставших отвечать контейнеров. Изоляцию и безопасность компонентов благодаря встроенной поддержке ролей, сетевых политик и управления доступом.
Таким образом, развертывание аналитической системы на Kubernetes с использованием микросервисного подхода создаёт гибкую, масштабируемую и отказоустойчивую инфраструктуру, что позволит легко управлять сложной архитектурой системы и обеспечивать её надежное функционирование.
